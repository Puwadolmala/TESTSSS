{"ast":null,"code":"import { Router } from '@angular/router';\nimport { ApiService } from '../services/api.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/api.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"@angular/material/button\";\nimport * as i5 from \"@angular/material/icon\";\nimport * as i6 from \"@angular/material/table\";\nconst _c0 = () => [\"name\", \"category\", \"status\", \"action\"];\nfunction ProductListComponent_th_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 19);\n    i0.ɵɵtext(1, \"\\u0E0A\\u0E37\\u0E48\\u0E2D\\u0E2A\\u0E34\\u0E19\\u0E04\\u0E49\\u0E32\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProductListComponent_td_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 20);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const p_r1 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(p_r1.name);\n  }\n}\nfunction ProductListComponent_th_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 19);\n    i0.ɵɵtext(1, \"\\u0E2B\\u0E21\\u0E27\\u0E14\\u0E2B\\u0E21\\u0E39\\u0E48\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProductListComponent_td_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 20);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const p_r2 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(p_r2.category);\n  }\n}\nfunction ProductListComponent_th_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 19);\n    i0.ɵɵtext(1, \"\\u0E2A\\u0E16\\u0E32\\u0E19\\u0E30\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProductListComponent_td_29_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 20);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const p_r3 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", p_r3.isAvailable ? \"\\u2714 \\u0E21\\u0E35\\u0E2A\\u0E34\\u0E19\\u0E04\\u0E49\\u0E32\" : \"\\u274C \\u0E44\\u0E21\\u0E48\\u0E21\\u0E35\\u0E2A\\u0E34\\u0E19\\u0E04\\u0E49\\u0E32\", \" \");\n  }\n}\nfunction ProductListComponent_th_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 19);\n    i0.ɵɵtext(1, \"\\u0E08\\u0E31\\u0E14\\u0E01\\u0E32\\u0E23\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProductListComponent_td_32_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\", 20)(1, \"button\", 21);\n    i0.ɵɵlistener(\"click\", function ProductListComponent_td_32_Template_button_click_1_listener() {\n      const p_r5 = i0.ɵɵrestoreView(_r4).$implicit;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.delete(p_r5.id));\n    });\n    i0.ɵɵtext(2, \"\\u0E25\\u0E1A\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ProductListComponent_tr_33_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 22);\n  }\n}\nfunction ProductListComponent_tr_34_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 23);\n  }\n}\nexport let ProductListComponent = /*#__PURE__*/(() => {\n  class ProductListComponent {\n    constructor(api, router) {\n      this.api = api;\n      this.router = router;\n      this.products = [];\n      this.filtered = [];\n      this.category = ''; // หมวดหมู่ที่เลือก\n    }\n    ngOnInit() {\n      this.api.getProducts().subscribe(data => {\n        this.products = data;\n        this.filtered = data;\n      });\n    }\n    // ฟังก์ชันกรองข้อมูล\n    filter() {\n      this.filtered = this.products.filter(p => !this.category || p.category === this.category);\n    }\n    // ฟังก์ชันลบข้อมูล\n    delete(id) {\n      this.api.deleteProduct(id).subscribe(() => {\n        this.filtered = this.filtered.filter(p => p.id !== id);\n      });\n    }\n    // ฟังก์ชันเปลี่ยนเส้นทางไปที่หน้า /form\n    goToForm() {\n      this.router.navigate(['/form']);\n    }\n    // ฟังก์ชันเปลี่ยนเส้นทางไปที่หน้า /cards\n    goToCards() {\n      this.router.navigate(['/cards']);\n    }\n    static {\n      this.ɵfac = function ProductListComponent_Factory(t) {\n        return new (t || ProductListComponent)(i0.ɵɵdirectiveInject(i1.ApiService), i0.ɵɵdirectiveInject(i2.Router));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: ProductListComponent,\n        selectors: [[\"app-product-list\"]],\n        decls: 35,\n        vars: 6,\n        consts: [[1, \"p-4\"], [1, \"absolute\", \"top-4\", \"right-4\"], [\"mat-icon-button\", \"\", 3, \"click\"], [1, \"w-full\", \"mb-4\"], [\"for\", \"category\", 1, \"block\", \"text-lg\", \"text-gray-700\"], [\"id\", \"category\", 1, \"w-full\", \"p-2\", \"border\", \"border-gray-300\", \"rounded-lg\", \"focus:outline-none\", \"focus:ring-2\", \"focus:ring-blue-500\", 3, \"ngModelChange\", \"change\", \"ngModel\"], [\"value\", \"\"], [\"value\", \"\\u0E40\\u0E04\\u0E23\\u0E37\\u0E48\\u0E2D\\u0E07\\u0E14\\u0E37\\u0E48\\u0E21\"], [\"value\", \"\\u0E40\\u0E1A\\u0E40\\u0E01\\u0E2D\\u0E23\\u0E35\\u0E48\"], [\"value\", \"\\u0E02\\u0E2D\\u0E07\\u0E27\\u0E48\\u0E32\\u0E07\"], [\"mat-table\", \"\", 1, \"mat-elevation-z2\", \"w-full\", 3, \"dataSource\"], [\"matColumnDef\", \"name\"], [\"mat-header-cell\", \"\", 4, \"matHeaderCellDef\"], [\"mat-cell\", \"\", 4, \"matCellDef\"], [\"matColumnDef\", \"category\"], [\"matColumnDef\", \"status\"], [\"matColumnDef\", \"action\"], [\"mat-header-row\", \"\", 4, \"matHeaderRowDef\"], [\"mat-row\", \"\", 4, \"matRowDef\", \"matRowDefColumns\"], [\"mat-header-cell\", \"\"], [\"mat-cell\", \"\"], [\"mat-button\", \"\", \"color\", \"warn\", 3, \"click\"], [\"mat-header-row\", \"\"], [\"mat-row\", \"\"]],\n        template: function ProductListComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"button\", 2);\n            i0.ɵɵlistener(\"click\", function ProductListComponent_Template_button_click_2_listener() {\n              return ctx.goToForm();\n            });\n            i0.ɵɵelementStart(3, \"mat-icon\");\n            i0.ɵɵtext(4, \"add\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(5, \"button\", 2);\n            i0.ɵɵlistener(\"click\", function ProductListComponent_Template_button_click_5_listener() {\n              return ctx.goToCards();\n            });\n            i0.ɵɵelementStart(6, \"mat-icon\");\n            i0.ɵɵtext(7, \"view_list\");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(8, \"div\", 3)(9, \"label\", 4);\n            i0.ɵɵtext(10, \"\\u0E40\\u0E25\\u0E37\\u0E2D\\u0E01\\u0E2B\\u0E21\\u0E27\\u0E14\\u0E2B\\u0E21\\u0E39\\u0E48\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(11, \"select\", 5);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function ProductListComponent_Template_select_ngModelChange_11_listener($event) {\n              i0.ɵɵtwoWayBindingSet(ctx.category, $event) || (ctx.category = $event);\n              return $event;\n            });\n            i0.ɵɵlistener(\"change\", function ProductListComponent_Template_select_change_11_listener() {\n              return ctx.filter();\n            });\n            i0.ɵɵelementStart(12, \"option\", 6);\n            i0.ɵɵtext(13, \"\\u0E17\\u0E31\\u0E49\\u0E07\\u0E2B\\u0E21\\u0E14\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(14, \"option\", 7);\n            i0.ɵɵtext(15, \"\\u0E40\\u0E04\\u0E23\\u0E37\\u0E48\\u0E2D\\u0E07\\u0E14\\u0E37\\u0E48\\u0E21\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(16, \"option\", 8);\n            i0.ɵɵtext(17, \"\\u0E40\\u0E1A\\u0E40\\u0E01\\u0E2D\\u0E23\\u0E35\\u0E48\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(18, \"option\", 9);\n            i0.ɵɵtext(19, \"\\u0E02\\u0E2D\\u0E07\\u0E27\\u0E48\\u0E32\\u0E07\");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(20, \"table\", 10);\n            i0.ɵɵelementContainerStart(21, 11);\n            i0.ɵɵtemplate(22, ProductListComponent_th_22_Template, 2, 0, \"th\", 12)(23, ProductListComponent_td_23_Template, 2, 1, \"td\", 13);\n            i0.ɵɵelementContainerEnd();\n            i0.ɵɵelementContainerStart(24, 14);\n            i0.ɵɵtemplate(25, ProductListComponent_th_25_Template, 2, 0, \"th\", 12)(26, ProductListComponent_td_26_Template, 2, 1, \"td\", 13);\n            i0.ɵɵelementContainerEnd();\n            i0.ɵɵelementContainerStart(27, 15);\n            i0.ɵɵtemplate(28, ProductListComponent_th_28_Template, 2, 0, \"th\", 12)(29, ProductListComponent_td_29_Template, 2, 1, \"td\", 13);\n            i0.ɵɵelementContainerEnd();\n            i0.ɵɵelementContainerStart(30, 16);\n            i0.ɵɵtemplate(31, ProductListComponent_th_31_Template, 2, 0, \"th\", 12)(32, ProductListComponent_td_32_Template, 3, 0, \"td\", 13);\n            i0.ɵɵelementContainerEnd();\n            i0.ɵɵtemplate(33, ProductListComponent_tr_33_Template, 1, 0, \"tr\", 17)(34, ProductListComponent_tr_34_Template, 1, 0, \"tr\", 18);\n            i0.ɵɵelementEnd()();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(11);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.category);\n            i0.ɵɵadvance(9);\n            i0.ɵɵproperty(\"dataSource\", ctx.filtered);\n            i0.ɵɵadvance(13);\n            i0.ɵɵproperty(\"matHeaderRowDef\", i0.ɵɵpureFunction0(4, _c0));\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"matRowDefColumns\", i0.ɵɵpureFunction0(5, _c0));\n          }\n        },\n        dependencies: [i3.NgSelectOption, i3.ɵNgSelectMultipleOption, i3.SelectControlValueAccessor, i3.NgControlStatus, i3.NgModel, i4.MatButton, i4.MatIconButton, i5.MatIcon, i6.MatTable, i6.MatHeaderCellDef, i6.MatHeaderRowDef, i6.MatColumnDef, i6.MatCellDef, i6.MatRowDef, i6.MatHeaderCell, i6.MatCell, i6.MatHeaderRow, i6.MatRow],\n        styles: [\"@charset \\\"UTF-8\\\";table.mat-elevation-z2[_ngcontent-%COMP%]{width:100%;margin-top:2rem;border-collapse:collapse;box-shadow:0 2px 8px #0000001a;border-radius:8px}th.mat-header-cell[_ngcontent-%COMP%]{padding:1rem;text-align:left;background-color:#007bff;color:#fff;font-weight:700}td.mat-cell[_ngcontent-%COMP%]{padding:1rem;text-align:left;border-top:1px solid #e5e7eb}tr.mat-row[_ngcontent-%COMP%]:hover{background-color:#f0f4f8}button.mat-button[_ngcontent-%COMP%]{background-color:#f44336;color:#fff;border-radius:8px;padding:.5rem 1rem;text-transform:none;font-size:1rem;transition:background-color .3s ease;margin-top:.5rem}button.mat-button[_ngcontent-%COMP%]:hover{background-color:#d32f2f}mat-icon.mat-icon[_ngcontent-%COMP%]{font-size:1.5rem;color:#007bff}mat-icon.mat-icon[_ngcontent-%COMP%]:hover{color:#0056b3}select[_ngcontent-%COMP%]{padding:.75rem;font-size:1rem;border:1px solid #a2c8f3;border-radius:8px;transition:border-color .3s ease,box-shadow .3s ease;width:100%;background-color:#fff;box-sizing:border-box;margin-top:.5rem}select[_ngcontent-%COMP%]:focus{border-color:#007bff;box-shadow:0 0 8px #007bff66}button.mat-icon-button[_ngcontent-%COMP%]{position:absolute;top:20px;right:20px;background-color:#fff;border-radius:50%;padding:10px;box-shadow:0 4px 6px #0000001a}button.mat-icon-button[_ngcontent-%COMP%]:hover{background-color:#f0f4f8}\"]\n      });\n    }\n  }\n  return ProductListComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}